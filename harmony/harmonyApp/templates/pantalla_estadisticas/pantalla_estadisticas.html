{% load static %}

<html>

<head>
  <link rel="icon" href="{% static '/images/icono.png' %}" type="image/x-icon">

  <title>Harmony</title>
  <!-- CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous">
  </script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    integrity="sha384-mzRDjb+ZmYXjHKFXx34t7u27d7PR5Gwpe5dszAMs3FpJ9P6WdhiA5PK5v8w5hq10" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <style>
    .body {
      background-color: #F1F0EC;
    }

    h1 {
      text-align: center;
    }

    li {
      font-weight: bolder;
      text-align: left;
      font-size: large;
    }

    #esta_actividad {
      padding-top: 50px;
      padding-bottom: 50px;
      text-align: center;
      background: #D9D9D9;
      box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);
      width: 45%;
      margin-left: 50px;
    }

    #esta_calificacion {
      padding-top: 50px;
      padding-bottom: 50px;
      text-align: center;
      background: #D9D9D9;
      box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);
      width: 45%;
    }

    .custom-graph {
      padding-top: 10px;
      padding: 20px;
      width: 90%;
      height: 80%;
    }

    #div_info {
      margin-top: 20px;
      background: #B2B0B0;
      box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);
      text-align: left;
      margin-left: 10px;
      padding: 20px;
      border-radius: 10px;
    }

    /*margin-top: 20px; background: #B2B0B0; box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25); text-align: left; margin-left: 10px; padding: 20px; border-radius: 10px;*/
  </style>

</head>

<body class="body">
  <header>
    {% include 'navbar.html' %}
  </header>
  <main>

    <h1 data-aos="fade-up" style="font-size: 1.9em;">Monitoreo Integral: <br>Calificaciones, Uso Diario y Resumen de
      Actividad de Nuestra Página
    </h1>
    <div class="container text-center mt-5 mb-5">
      <div class="row">

        <div class="container text-center mt-5">
          <div class="row">
            <div data-aos="fade-left" class="col-lg-6" id="esta_calificacion">

              <h2 style="font-size: 1.8em; text-align: center;">
                Calificación: 
                {{promCalificacion}}
                <svg xmlns="http://www.w3.org/2000/svg" style="fill:yellow; width:39px;height:39px"
                  class="bi bi-star-fill" viewBox="0 0 16 16">
                  <path
                    d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z" />
                </svg>
              </h2>
              <br><br>
              <div>
                <img src="data:image/png;base64,{{ plot }}">
              </div>

            </div>
            <div data-aos="fade-up" class="col-lg-6 custom-graph" id="esta_actividad">
              <h1 data-aos="fade-up" style="font-size: 1.8em;">Análisis de la Interacción Global</h1>
              <br>
              {{ plot_div | safe }}

            </div>
          </div>
          <div id="div_info" class="container">
            <div class="row">
              <div class="col-lg-6">
                <h2 style="font-size: 1.8em; text-align: center;">
                  Estadística global
                </h2>
                <p style="margin-left: 10px; margin-bottom: 5px; line-height: 1.6;">
                  <svg style="font-size: 33px; padding-right: 10px; vertical-align: middle;"
                    xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                    class="bi bi-chat-left-quote-fill" viewBox="0 0 16 16">
                    <path
                      d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4.414a1 1 0 0 0-.707.293L.854 15.146A.5.5 0 0 1 0 14.793V2zm7.194 2.766a1.688 1.688 0 0 0-.227-.272 1.467 1.467 0 0 0-.469-.324l-.008-.004A1.785 1.785 0 0 0 5.734 4C4.776 4 4 4.746 4 5.667c0 .92.776 1.666 1.734 1.666.343 0 .662-.095.931-.26-.137.389-.39.804-.81 1.22a.405.405 0 0 0 .011.59c.173.16.447.155.614-.01 1.334-1.329 1.37-2.758.941-3.706a2.461 2.461 0 0 0-.227-.4zM11 7.073c-.136.389-.39.804-.81 1.22a.405.405 0 0 0 .012.59c.172.16.446.155.613-.01 1.334-1.329 1.37-2.758.942-3.706a2.466 2.466 0 0 0-.228-.4 1.686 1.686 0 0 0-.227-.273 1.466 1.466 0 0 0-.469-.324l-.008-.004A1.785 1.785 0 0 0 10.07 4c-.957 0-1.734.746-1.734 1.667 0 .92.777 1.666 1.734 1.666.343 0 .662-.095.931-.26z" />
                  </svg>
                  <span style="vertical-align: middle;"><b>Pregunta más frecuente: </b></span>
                  {% for pregunta in elementos_mas_repetidos %}
                  {{ pregunta }}
                  {% endfor %}
                </p>
                <p style="margin-left: 10px; margin-bottom: 5px; line-height: 1.6;">
                  <svg style="font-size: 33px; padding-right: 10px; vertical-align: middle;"
                    xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                    class="bi bi-person-heart" viewBox="0 0 16 16">
                    <path
                      d="M9 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm-9 8c0 1 1 1 1 1h10s1 0 1-1-1-4-6-4-6 3-6 4Zm13.5-8.09c1.387-1.425 4.855 1.07 0 4.277-4.854-3.207-1.387-5.702 0-4.276Z" />
                  </svg>
                  <span style="vertical-align: middle;"><b>Mensajes Totales:</b> {{ mensajes_enviados }}</span>
                </p>
                <p style="margin-left: 10px; margin-bottom: 5px; line-height: 1.6;">
                  <svg style="font-size: 33px; padding-right: 10px; vertical-align: middle;"
                    xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                    class="bi bi-people-fill" viewBox="0 0 16 16">
                    <path
                      d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z" />
                  </svg>
                  <span style="vertical-align: middle;"><b>Usuarios totales:</b> {{ cantidad_usuarios }}</span>
                </p>
              </div>
              <div class="col-lg-6">
                <h2 style="font-size: 1.8em; text-align: center;">
                  Estadística personal
                </h2>
                <p style="margin-left: 10px; margin-bottom: 5px; line-height: 1.6;">


                  <svg style="font-size: 33px; padding-right: 10px; vertical-align: middle;"
                    xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-chat-left-dots"
                    viewBox="0 0 16 16">
                    <path
                      d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z" />
                    <path
                      d="M5 6a1 1 0 1 1-2 0 1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0" />
                  </svg>
                  <span style="vertical-align: middle;"><b>Tus conversaciones:</b> {{ total_conversaciones }}</span>
                </p>
                <p style="margin-left: 10px; margin-bottom: 5px; line-height: 1.6;">
                  <svg style="font-size: 33px; padding-right: 10px; vertical-align: middle;"
                    xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-chat-left-dots-fill"
                    viewBox="0 0 16 16">
                    <path
                      d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4.414a1 1 0 0 0-.707.293L.854 15.146A.5.5 0 0 1 0 14.793zm5 4a1 1 0 1 0-2 0 1 1 0 0 0 2 0m4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2" />
                  </svg>



                  <span style="vertical-align: middle;"><b>Total de mensajes: </b> {{ total_preguntas }}</span>
                </p>
              </div>

            </div>

          </div>

        </div>
      </div>
    </div>
    </div>


  </main>

  <footer></footer>
</body>
<script>
  AOS.init();
</script>

</html>